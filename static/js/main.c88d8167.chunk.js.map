{"version":3,"sources":["components/Header/Header.module.css","components/CurrencyItem/CurrencyItem.module.css","App.module.css","components/CurrencyBlock/CurrencyBlock.module.css","components/CurrencyConverter/CurrencyConverter.module.css","api/currencyRatesAPI.js","api/transformNumber.js","components/CurrencyItem/CurrencyItem.jsx","components/Header/Header.jsx","components/CurrencyBlock/CurrencyBlock.jsx","components/CurrencyConverter/CurrencyConverter.jsx","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchCurrencyRates","a","get","data","push","ccy","buy","sale","Error","currencyRatesAPI","transformNumber","item","parseFloat","toFixed","CurrencyItem","transformedItem","className","s","Header","currencyRates","console","log","header","list","map","currency","CurrencyBlock","currencyValue","onChangeValue","firstCurrencyName","exchangeRate","secondCurrencyName","onChangeCurrencyName","headerText","defaultValue","length","currencyBlock","blockHeader","inputBlock","name","type","value","onChange","id","size","uniteRate","CurrencyConverter","useState","firstCurrencyValue","setFirstCurrencyValue","setFirstCurrencyName","secondCurrencyValue","setSecondCurrencyValue","setSecondCurrencyName","flag","setFlag","firstCurrentCurrencyObj","find","secondCurrentCurrencyObj","useEffect","secondValue","firstValue","e","currentTarget","App","currencyRatesArray","setcurrencyRatesArray","savedRatesArray","localStorage","getItem","parsedRatesArray","JSON","parse","then","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c88d8167.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Header_list__3c8fK\",\"header\":\"Header_header__2LUsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CurrencyItem_item__3wUp9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3jBuM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputBlock\":\"CurrencyBlock_inputBlock__1PHCA\",\"currencyBlock\":\"CurrencyBlock_currencyBlock__1VmyA\",\"uniteRate\":\"CurrencyBlock_uniteRate__5w9kh\",\"blockHeader\":\"CurrencyBlock_blockHeader__2bAVi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swapButton\":\"CurrencyConverter_swapButton__2h_e3\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL =\r\n  'https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5';\r\n\r\nconst fetchCurrencyRates = async () => {\r\n  try {\r\n    const { data } = await axios.get();\r\n\r\n    data.push({ ccy: 'UAH', buy: '1', sale: '1' });\r\n\r\n    return data;\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst currencyRatesAPI = {\r\n  fetchCurrencyRates,\r\n};\r\n\r\nexport default currencyRatesAPI;\r\n","const transformNumber = item => {\r\n  const buy = parseFloat(item.buy).toFixed(2);\r\n  const sale = parseFloat(item.sale).toFixed(2);\r\n  return { buy, sale };\r\n};\r\n\r\nexport default transformNumber;\r\n","import React from 'react';\r\nimport { transformNumber } from '../../api';\r\nimport s from './CurrencyItem.module.css';\r\n\r\nconst CurrencyItem = ({ item }) => {\r\n    const transformedItem = transformNumber(item);\r\n    return <li className={s.item}>{item.ccy} : {transformedItem.buy}/{transformedItem.sale}</li>\r\n}\r\n\r\nexport default CurrencyItem;\r\n\r\n ","import React from 'react';\r\nimport CurrencyItem from '../CurrencyItem';\r\nimport s from './Header.module.css';\r\n\r\n\r\nexport default function Header({currencyRates}) {\r\n    console.log('rates', currencyRates);\r\n    return (<>\r\n        <header className={s.header}>\r\n            <ul className={s.list}>\r\n                {currencyRates.map(currency => {\r\n                    if (currency.ccy === 'UAH') return '';\r\n                    return <CurrencyItem key={currency.ccy} item={currency} />\r\n                })}\r\n            </ul>\r\n        </header>\r\n    </>)\r\n}","import React from \"react\";\r\nimport s from './CurrencyBlock.module.css';\r\n\r\nexport default function CurrencyBlock({\r\n    currencyRates,\r\n    currencyValue,\r\n    onChangeValue,\r\n    firstCurrencyName,\r\n    exchangeRate,\r\n    secondCurrencyName,\r\n    onChangeCurrencyName,\r\n    defaultValue,\r\n    headerText,\r\n}) {\r\n    // useEffect(() => {\r\n    //     if (currencyRates.length !== 0) {\r\n    //         const form = document.forms['currencyForm'];\r\n    //         const elem = form.select;\r\n    //         elem.selectedIndex = firstCurrencyName;\r\n    //         console.log('elem', index, elem.value);\r\n    //         console.log('defVal', defaultValue);\r\n    //     }\r\n    // }, [ firstCurrencyName])\r\n\r\n    return (\r\n        currencyRates.length !== 0 && <div className={s.currencyBlock}>\r\n            <p className={s.blockHeader}>{headerText}</p>\r\n            <div className={s.inputBlock}>\r\n                {/* <form name='currencyForm'> */}\r\n                    <input name='input' type=\"text\" value={currencyValue} onChange={onChangeValue} />\r\n                    <select\r\n                        name='select'\r\n                        id='select'\r\n                        size='1'\r\n                        defaultValue={firstCurrencyName}\r\n                        onChange={onChangeCurrencyName}\r\n                    >\r\n                        {currencyRates.map(currency => (\r\n                            <option\r\n                                key={currency.ccy}\r\n                                value={currency.ccy}\r\n                            >{currency.ccy}</option>\r\n                        ))}\r\n                    </select>\r\n                {/* </form> */}\r\n            </div>\r\n            <p className={s.uniteRate}>1 {firstCurrencyName} = {exchangeRate()} {secondCurrencyName}</p>\r\n        </div>\r\n    );\r\n};","import React, {  useState, useEffect } from 'react';\nimport s from './CurrencyConverter.module.css';\nimport CurrencyBlock from '../CurrencyBlock';\n\nexport default function CurrencyConverter({currencyRates}) {\n  const [firstCurrencyValue, setFirstCurrencyValue] = useState(100);\n  const [firstCurrencyName, setFirstCurrencyName] = useState('USD');\n\n  const [secondCurrencyValue, setSecondCurrencyValue] = useState(100);\n  const [secondCurrencyName, setSecondCurrencyName] = useState('UAH');\n\n  const [flag, setFlag] = useState('first');\n\n  const firstCurrentCurrencyObj = currencyRates.find(currency => currency.ccy === firstCurrencyName);\n  const secondCurrentCurrencyObj = currencyRates.find(currency => currency.ccy === secondCurrencyName);\n\n  const exchangeRate = () => (parseFloat(firstCurrentCurrencyObj.buy) / parseFloat(secondCurrentCurrencyObj.sale)).toFixed(4);\n  const reverseExchangeRate = () => (parseFloat(secondCurrentCurrencyObj.sale) / parseFloat(firstCurrentCurrencyObj.buy)).toFixed(4);\n\n  useEffect(() => {\n    if (currencyRates.length !== 0 && flag !== 'second') {\n      const secondValue = (firstCurrencyValue * parseFloat(firstCurrentCurrencyObj.buy) / parseFloat(secondCurrentCurrencyObj.sale)).toFixed(2);\n      secondValue !== secondCurrencyValue && setSecondCurrencyValue(secondValue);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [firstCurrencyValue, firstCurrencyName, currencyRates]);\n\n  useEffect(() => {\n    if (currencyRates.length !== 0 && flag !== 'first') {\n      const firstValue = (secondCurrencyValue * parseFloat(secondCurrentCurrencyObj.sale) / parseFloat(firstCurrentCurrencyObj.buy)).toFixed(2);\n      firstValue !== firstCurrencyValue && setFirstCurrencyValue(firstValue);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [secondCurrencyValue, secondCurrencyName, currencyRates, flag]);\n\n  const onChangeFirstValue = (e) => {\n    setFlag('first');\n    setFirstCurrencyValue(e.currentTarget.value);\n  }\n  const onChangeSecondValue = (e) => {\n    setFlag('second');\n    setSecondCurrencyValue(e.currentTarget.value)\n  };\n\n  const onChangeFirstCurrencyName = (e) => {\n    setFlag('first');\n    setFirstCurrencyName(e.currentTarget.value);\n  };\n\n  const onChangeSecondCurrencyName = (e) => {\n    setFlag('second');\n    setSecondCurrencyName(e.currentTarget.value);\n  };\n\n  // const onSwap = () => {\n  //   // const temporaryValue = firstCurrencyValue;\n  //   const temporaryName = firstCurrencyName;\n  //   const temporaryValue = firstCurrencyValue;\n  //   // setFlag('first');\n  //   setFirstCurrencyValue(secondCurrencyValue);\n  //   setFirstCurrencyName(secondCurrencyName);\n  //   // setFlag('second');\n  //   setSecondCurrencyValue(temporaryValue);\n  //   setSecondCurrencyName(temporaryName);\n  //   console.log('firstCurrencyName', firstCurrencyName);\n  //   console.log('secondCurrencyName', secondCurrencyName);\n\n  // }\n\n  return (\n    <main>\n      <h1>Currency Converter</h1>\n      {currencyRates.length !== 0 && <section>\n        <CurrencyBlock\n          currencyRates={currencyRates}\n          currencyValue={firstCurrencyValue}\n          onChangeValue={onChangeFirstValue}\n          onChangeCurrencyName={onChangeFirstCurrencyName}\n          exchangeRate={exchangeRate}\n          firstCurrencyName={firstCurrencyName}\n          secondCurrencyName={secondCurrencyName}\n          defaultValue={firstCurrencyName}\n          headerText={'I want to sale'}\n        />\n\n        {/* <button type='button' className={s.swapButton} onClick={onSwap}>SWAP</button> */}\n        \n        <CurrencyBlock\n          currencyRates={currencyRates}\n          currencyValue={secondCurrencyValue}\n          onChangeValue={onChangeSecondValue}\n          onChangeCurrencyName={onChangeSecondCurrencyName}\n          exchangeRate={reverseExchangeRate}\n          firstCurrencyName={secondCurrencyName}\n          secondCurrencyName={firstCurrencyName}\n          defaultValue={secondCurrencyName}\n          headerText={'I want to buy'}\n        />\n      </section>}\n    </main>\n  )\n};","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header';\nimport CurrencyConverter from './components/CurrencyConverter';\nimport { currencyRatesAPI } from './api';\nimport s from './App.module.css';\n\nexport const App = () => {\n  const [currencyRatesArray, setcurrencyRatesArray] = useState([]);\n\n  useEffect(() => {\n    if (!currencyRatesArray.length) {\n      const savedRatesArray = localStorage.getItem('currencyRatesArray');\n      const parsedRatesArray = JSON.parse(savedRatesArray);\n\n      if (parsedRatesArray) {\n        setcurrencyRatesArray(parsedRatesArray);\n        return;\n      }\n\n      currencyRatesAPI\n        .fetchCurrencyRates()\n        .then(data => setcurrencyRatesArray(data));\n    }\n  }, [currencyRatesArray]);\n\n  return (\n    <div className={s.App}>\n      {currencyRatesArray && <Header currencyRates={currencyRatesArray} />}\n\n      {currencyRatesArray && (\n        <CurrencyConverter currencyRates={currencyRatesArray} />\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n// import { store } from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\n// import { Provider } from 'react-redux';\nimport 'react-toastify/dist/ReactToastify.css';\n// import ContextProvider from './contexts/Provider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      {/* <ContextProvider>\n        <Provider store={store}> */}\n      <App />\n      {/* </Provider>\n      </ContextProvider> */}\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}