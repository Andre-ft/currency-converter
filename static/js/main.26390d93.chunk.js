(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{11:function(e,t,c){e.exports={list:"Header_list__3c8fK",header:"Header_header__2LUsW"}},22:function(e,t,c){e.exports={item:"CurrencyItem_item__3wUp9"}},23:function(e,t,c){e.exports={App:"App_App__3jBuM"}},29:function(e,t,c){},4:function(e,t,c){e.exports={currencyBlock:"CurrencyConverter_currencyBlock__1S6Vu",inputBlock:"CurrencyConverter_inputBlock__1m79K"}},51:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(20),s=c.n(a),u=(c(29),c(2)),i=c(21),o=c(9),l=c.n(o),j=c(10),p=c.n(j);p.a.defaults.baseURL="https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5";var b=function(){var e=Object(i.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get();case 3:return t=e.sent,(c=t.data).push({ccy:"UAH",buy:"1",sale:"1"}),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),d={fetchCurrencyRates:b};var f=c(22),h=c.n(f),O=c(1),x=function(e){var t=e.item,c=function(e){return{buy:parseFloat(e.buy).toFixed(2),sale:parseFloat(e.sale).toFixed(2)}}(t);return Object(O.jsxs)("li",{className:h.a.item,children:[t.ccy," : ",c.buy,"/",c.sale]})},y=c(11),v=c.n(y);function g(e){var t=e.currencyRates;return console.log("rates",t),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("header",{className:v.a.header,children:Object(O.jsx)("ul",{className:v.a.list,children:t.map((function(e){return Object(O.jsx)(x,{item:e},e.ccy)}))})})})}var m=c(4),F=c.n(m);function _(e){var t=e.currencyRates,c=Object(n.useState)(100),r=Object(u.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)("USD"),o=Object(u.a)(i,2),l=o[0],j=o[1],p=Object(n.useState)(100),b=Object(u.a)(p,2),d=b[0],f=b[1],h=Object(n.useState)("UAH"),x=Object(u.a)(h,2),y=x[0],v=x[1],g=Object(n.useState)("first"),m=Object(u.a)(g,2),_=m[0],S=m[1],C=t.find((function(e){return e.ccy===l})),k=t.find((function(e){return e.ccy===y}));Object(n.useEffect)((function(){if(0!==t.length&&"second"!==_){console.log("flag",_);var e=(a*parseFloat(C.buy)/parseFloat(k.sale)).toFixed(2);e!==d&&f(e)}}),[a,l,t]),Object(n.useEffect)((function(){if(0!==t.length&&"first"!==_){console.log("flag",_);var e=(d*parseFloat(k.sale)/parseFloat(C.buy)).toFixed(2);e!==a&&s(e)}}),[d,y,t]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Currency Converter"}),0!==t.length&&Object(O.jsxs)("section",{children:[Object(O.jsxs)("div",{className:F.a.currencyBlock,children:[Object(O.jsx)("p",{children:"Want to SALE"}),Object(O.jsxs)("div",{className:F.a.inputBlock,children:[Object(O.jsx)("input",{type:"text",value:a,onChange:function(e){S("first"),s(e.currentTarget.value)}}),Object(O.jsx)("select",{size:"1",id:"firstSelect",defaultValue:l,onChange:function(e){S("first"),j(e.currentTarget.value)},children:t.map((function(e){return Object(O.jsx)("option",{value:e.ccy,children:e.ccy},e.ccy)}))})]}),Object(O.jsxs)("p",{children:["1 ",l," = ",(parseFloat(C.buy)/parseFloat(k.sale)).toFixed(4)," ",y]})]}),Object(O.jsxs)("div",{className:F.a.currencyBlock,children:[Object(O.jsx)("p",{children:"Want to BUY"}),Object(O.jsxs)("div",{className:F.a.inputBlock,children:[Object(O.jsx)("input",{type:"text",value:d,onChange:function(e){S("second"),f(e.currentTarget.value)}}),Object(O.jsx)("select",{size:"1",id:"secondSelect",defaultValue:y,onChange:function(e){S("second"),v(e.currentTarget.value)},children:t.map((function(e){return Object(O.jsx)("option",{value:e.ccy,children:e.ccy},e.ccy)}))})]}),Object(O.jsxs)("p",{children:["1 ",y," = ",(parseFloat(k.sale)/parseFloat(C.buy)).toFixed(4)," ",l]})]})]})]})}var S=c(23),C=c.n(S),k=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){if(!c.length){var e=localStorage.getItem("currencyRatesArray"),t=JSON.parse(e);if(t)return void r(t);d.fetchCurrencyRates().then((function(e){return r(e)}))}}),[c]),Object(O.jsxs)("div",{className:C.a.App,children:[c&&Object(O.jsx)(g,{currencyRates:c}),c&&Object(O.jsx)(_,{currencyRates:c})]})},B=c(24);c(50);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(B.a,{children:Object(O.jsx)(k,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.26390d93.chunk.js.map