(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{11:function(e,t,r){e.exports={list:"Header_list__3c8fK",header:"Header_header__2LUsW"}},22:function(e,t,r){e.exports={item:"CurrencyItem_item__3wUp9"}},23:function(e,t,r){e.exports={swapButton:"CurrencyConverter_swapButton__2h_e3"}},24:function(e,t,r){e.exports={App:"App_App__3jBuM"}},30:function(e,t,r){},4:function(e,t,r){e.exports={inputBlock:"CurrencyBlock_inputBlock__1PHCA",currencyBlock:"CurrencyBlock_currencyBlock__1VmyA",uniteRate:"CurrencyBlock_uniteRate__5w9kh",blockHeader:"CurrencyBlock_blockHeader__2bAVi"}},52:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(20),u=r.n(a),s=(r(30),r(2)),o=r(21),l=r(9),i=r.n(l),j=r(10),f=r.n(j);f.a.defaults.baseURL="https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5";var b=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get();case 3:return t=e.sent,(r=t.data).push({ccy:"UAH",buy:"1",sale:"1"}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),d={fetchCurrencyRates:b},y=function(e){return{buy:parseFloat(e.buy).toFixed(2),sale:parseFloat(e.sale).toFixed(2)}},p=r(22),h=r.n(p),x=r(1),O=function(e){var t=e.item,r=y(t);return Object(x.jsxs)("li",{className:h.a.item,children:[t.ccy," : ",r.buy,"/",r.sale]})},m=r(11),v=r.n(m);function C(e){var t=e.currencyRates;return console.log("rates",t),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("header",{className:v.a.header,children:Object(x.jsx)("ul",{className:v.a.list,children:t.map((function(e){return"UAH"===e.ccy?"":Object(x.jsx)(O,{item:e},e.ccy)}))})})})}var g=r(23),_=r.n(g),N=r(4),k=r.n(N);function F(e){var t=e.currencyRates,r=e.currencyValue,n=e.onChangeValue,c=e.firstCurrencyName,a=e.exchangeRate,u=e.secondCurrencyName,s=e.onChangeCurrencyName,o=(e.defaultValue,e.headerText);return 0!==t.length&&Object(x.jsxs)("div",{className:k.a.currencyBlock,children:[Object(x.jsx)("p",{className:k.a.blockHeader,children:o}),Object(x.jsx)("div",{className:k.a.inputBlock,children:Object(x.jsxs)("form",{name:"currencyForm",children:[Object(x.jsx)("input",{name:"input",type:"text",value:r,onChange:n}),Object(x.jsx)("select",{name:"select",id:"select",size:"1",defaultValue:c,onChange:s,children:t.map((function(e){return Object(x.jsx)("option",{value:e.ccy,children:e.ccy},e.ccy)}))})]})}),Object(x.jsxs)("p",{className:k.a.uniteRate,children:["1 ",c," = ",a()," ",u]})]})}function R(e){var t=e.currencyRates,r=Object(n.useState)(100),c=Object(s.a)(r,2),a=c[0],u=c[1],o=Object(n.useState)("USD"),l=Object(s.a)(o,2),i=l[0],j=l[1],f=Object(n.useState)(100),b=Object(s.a)(f,2),d=b[0],y=b[1],p=Object(n.useState)("UAH"),h=Object(s.a)(p,2),O=h[0],m=h[1],v=Object(n.useState)("first"),C=Object(s.a)(v,2),g=C[0],N=C[1],k=t.find((function(e){return e.ccy===i})),R=t.find((function(e){return e.ccy===O}));Object(n.useEffect)((function(){if(0!==t.length&&"second"!==g){var e=(a*parseFloat(k.buy)/parseFloat(R.sale)).toFixed(2);e!==d&&y(e)}}),[a,i,t]);console.log("arr",NaN),console.log("typeof arr","number"),Object(n.useEffect)((function(){if(0!==t.length&&"first"!==g){var e=(d*parseFloat(R.sale)/parseFloat(k.buy)).toFixed(2);e!==a&&u(e)}}),[d,O,t,g]);return Object(x.jsxs)("main",{children:[Object(x.jsx)("h1",{children:"Currency Converter"}),0!==t.length&&Object(x.jsxs)("section",{children:[Object(x.jsx)(F,{currencyRates:t,currencyValue:a,onChangeValue:function(e){N("first"),u(e.currentTarget.value)},onChangeCurrencyName:function(e){N("first"),j(e.currentTarget.value)},exchangeRate:function(){return(parseFloat(k.buy)/parseFloat(R.sale)).toFixed(4)},firstCurrencyName:i,secondCurrencyName:O,defaultValue:i,headerText:"I want to sale"}),Object(x.jsx)("button",{type:"button",className:_.a.swapButton,onClick:function(){var e=i,t=a;u(d),j(O),y(t),m(e),console.log("firstCurrencyName",i),console.log("secondCurrencyName",O)},children:"SWAP"}),Object(x.jsx)(F,{currencyRates:t,currencyValue:d,onChangeValue:function(e){N("second"),y(e.currentTarget.value)},onChangeCurrencyName:function(e){N("second"),m(e.currentTarget.value)},exchangeRate:function(){return(parseFloat(R.sale)/parseFloat(k.buy)).toFixed(4)},firstCurrencyName:O,secondCurrencyName:i,defaultValue:O,headerText:"I want to buy"})]})]})}var B=r(24),w=r.n(B),A=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){if(!r.length){var e=localStorage.getItem("currencyRatesArray"),t=JSON.parse(e);if(t)return void c(t);d.fetchCurrencyRates().then((function(e){return c(e)}))}}),[r]),Object(x.jsxs)("div",{className:w.a.App,children:[r&&Object(x.jsx)(C,{currencyRates:r}),r&&Object(x.jsx)(R,{currencyRates:r})]})},V=r(25);r(51);u.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(V.a,{children:Object(x.jsx)(A,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.1e5e8f0b.chunk.js.map